webpackJsonp([1],{"1uuo":function(t,e){},"3/HS":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),a=s("Lw6n"),r=s.n(a),o=this,n={name:"App",data:function(){return{transitionName:"slide-left",debugCounter:1,debugTarget:null,toptipsOpacity:0,toptipsDisplay:"none",errorCode:"",errorMsg:""}},watch:{$route:function(t,e){var s=t.path.split("/").length,i=e.path.split("/").length;o.transitionName=s<i?"slide-right":"slide-left"}},created:function(){var t=this;this.$root.bus.$on("toptips",function(e){t.errorCode=e.errorCode||"",t.errorMsg=e.errorMsg||"",t.toptipsOpacity=1,t.toptipsDisplay="block",setTimeout(function(){t.toptipsOpacity=0,t.toptipsDisplay="none"},5e3)})},methods:{openConsole:function(t){if(this.debugTarget&&this.debugTarget!==t.target)return this.debugTarget=t.target,void(this.debugCounter=1);if(this.debugTarget=t.target,this.debugCounter++,this.debugCounter>10){var e=new r.a;console.log("vConsole open:",e)}}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"},on:{click:t.openConsole}},[s("transition",{attrs:{name:t.transitionName}},[s("router-view",{staticClass:"child-view"})],1),t._v(" "),s("div",{staticClass:"weui-toptips weui-toptips_warn",style:{opacity:t.toptipsOpacity,display:t.toptipsDisplay}},[t._v(t._s(t.errorMsg))])],1)},staticRenderFns:[]};var c=s("VU/8")(n,l,!1,function(t){s("vk+h")},null,null).exports,u=s("/ocq"),d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v(t._s(t.msg))]),t._v(" "),s("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),s("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),s("br"),t._v(" "),s("li",[s("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var v=s("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},d,!1,function(t){s("1uuo")},"data-v-d8ec41bc",null).exports,_={name:"Main",data:function(){return{dataModel:{idCode:"",mobileNo:"",verCode:""},checkModel:{idCode:!0,mobileNo:!0,verCode:!0},verCodeBtn:{timer:60,text:"获取验证码",disabled:!1},submitBtn:{text:"确定",disabled:!1}}},methods:{checkIdCode:function(t){if(!/^[1-9]{1}[0-9]{16}[0-9|X]{1}$/.test(t))return!1;var e=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],s=t.split("");"X"!==s[17]&&"x"!==s[17]||(s[17]=10);for(var i=0,a=0;a<18;++a)i+=e[a]*s[a];return i%11==1},onCheckIdCode:function(){this.checkModel.idCode=this.checkIdCode(this.dataModel.idCode),this.checkModel.idCode||this.$root.bus.$emit("toptips",{errorCode:"INVALID_ID_CODE",errorMsg:"无效的身份证号"})},checkMobileNo:function(t){return/^1[0-9]{10}$/.test(t)},onCheckMobileNo:function(){this.checkModel.mobileNo=this.checkMobileNo(this.dataModel.mobileNo),this.checkModel.mobileNo||this.$root.bus.$emit("toptips",{errorCode:"INVALID_MOBILE_NO",errorMsg:"无效的手机号"})},getVerCode:function(){if(this.verCodeBtn.disabled)return!1;if(this.verCodeBtn.disabled=!0,this.onCheckMobileNo(),this.checkModel.mobileNo){this.verCodeBtn.timer=10;var t=this;this.$http.get("/ver/code/",{params:{mobileNo:t.dataModel.mobileNo}}).then(function(e){console.log(e);var s=setInterval(function(){t.verCodeBtn.timer>0?t.verCodeBtn.text="剩余"+t.verCodeBtn.timer--+"秒":(t.verCodeBtn.text="获取验证码",t.verCodeBtn.disabled=!1,clearInterval(s))},1e3)}).catch(function(e){t.verCodeBtn.disabled=!1,t.$errorHandler(e,t)})}else this.verCodeBtn.disabled=!1},checkVerCode:function(t){return/^[0-9]{6}$/.test(t)},onCheckVerCode:function(){this.checkModel.verCode=this.checkVerCode(this.dataModel.verCode),this.checkModel.verCode||this.$root.bus.$emit("toptips",{errorCode:"INVALID_VER_CODE",errorMsg:"请填写6位数字验证码"})},isFormChecked:function(){var t=!0;for(var e in this.checkModel)t=t&&this.checkModel[e];return t},doSubmit:function(){if(this.submitBtn.disabled=!0,this.onCheckIdCode(),this.onCheckMobileNo(),this.onCheckVerCode(),this.isFormChecked()){var t=this;t.$http.post("/user/",this.dataModel).then(function(e){t.submitBtn.disabled=!1,t.$router.push("/result")}).catch(function(e){t.submitBtn.disabled=!1,t.$errorHandler(e,t)})}}}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page"},[s("div",{staticClass:"weui-form"},[t._m(0),t._v(" "),s("div",{staticClass:"weui-form__control-area"},[s("div",{staticClass:"weui-cells__group weui-cells__group_form"},[s("div",{staticClass:"weui-cells__title"},[t._v("认证信息")]),t._v(" "),s("div",{staticClass:"weui-cells weui-cells_form"},[s("div",{staticClass:"weui-cell weui-cell_active",class:{"weui-cell_warn":!t.checkModel.idCode}},[t._m(1),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.dataModel.idCode,expression:"dataModel.idCode"}],staticClass:"weui-input",attrs:{placeholder:"填写本人身份证号",maxlength:"18"},domProps:{value:t.dataModel.idCode},on:{blur:function(e){return t.onCheckIdCode()},input:function(e){e.target.composing||t.$set(t.dataModel,"idCode",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"weui-cell weui-cell_active",class:{"weui-cell_warn":!t.checkModel.mobileNo}},[t._m(2),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.dataModel.mobileNo,expression:"dataModel.mobileNo"}],staticClass:"weui-input",attrs:{placeholder:"填写本人手机号码",maxlength:"11"},domProps:{value:t.dataModel.mobileNo},on:{blur:function(e){return t.onCheckMobileNo()},input:function(e){e.target.composing||t.$set(t.dataModel,"mobileNo",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"weui-cell weui-cell_active weui-cell_vcode"},[t._m(3),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.dataModel.verCode,expression:"dataModel.verCode"}],staticClass:"weui-input",attrs:{autofocus:"",type:"text",pattern:"[0-9]{6}",placeholder:"输入验证码",maxlength:"6"},domProps:{value:t.dataModel.verCode},on:{blur:function(e){return t.onCheckVerCode()},input:function(e){e.target.composing||t.$set(t.dataModel,"verCode",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"weui-cell__ft"},[s("button",{staticClass:"weui-btn weui-btn_default weui-vcode-btn",attrs:{disabled:t.verCodeBtn.disabled},on:{click:function(e){return t.getVerCode()}}},[t._v(t._s(t.verCodeBtn.text))])])])]),t._v(" "),t._m(4)])]),t._v(" "),s("div",{staticClass:"weui-form__opr-area"},[s("a",{staticClass:"weui-btn weui-btn_primary",attrs:{href:"javascript:",disabled:t.submitBtn.disabled},on:{click:function(e){return t.doSubmit()}}},[t._v(t._s(t.submitBtn.text))])]),t._v(" "),t._m(5)]),t._v(" "),t._m(6)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-form__text-area"},[e("h2",{staticClass:"weui-form__title"},[this._v("用户信息认证")]),this._v(" "),e("div",{staticClass:"weui-form__desc"},[this._v("请填写您的身份证号，手机号和验证码。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("身份证号")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("手机号码")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("验证码")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cells__tips"},[e("a",{staticClass:"weui-link",attrs:{href:"javascript:"}},[this._v("收不到验证码")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-form__extra-area"},[e("div",{staticClass:"weui-footer"},[e("p",{staticClass:"weui-footer__links"},[e("a",{staticClass:"weui-footer__link",attrs:{href:"javascript:"}},[this._v("中国工商银行上海市分行")])]),this._v(" "),e("p",{staticClass:"weui-footer__text"},[this._v("Copyright © 2008-2019 weui.io")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{display:"none"},attrs:{id:"js_toast"}},[e("div",{staticClass:"weui-mask_transparent"}),this._v(" "),e("div",{staticClass:"weui-toast"},[e("i",{staticClass:"weui-icon-success-no-circle weui-icon_toast"}),this._v(" "),e("p",{staticClass:"weui-toast__content"},[this._v("已完成")])])])}]};var p=s("VU/8")(_,h,!1,function(t){s("3/HS")},"data-v-4f9708ee",null).exports,C={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page"},[s("div",{staticClass:"weui-msg"},[s("div",{staticClass:"weui-msg__icon-area"},[s("i",{staticClass:"weui-icon-success weui-icon_msg"})]),t._v(" "),s("div",{staticClass:"weui-msg__text-area"},[s("h2",{staticClass:"weui-msg__title"},[t._v("操作成功")]),t._v(" "),s("p",{staticClass:"weui-msg__desc"},[t._v("内容详情，可根据实际需要安排，如果换行则不超过规定长度，居中展现"),s("a",{attrs:{href:"javascript:"}},[t._v("文字链接")])])]),t._v(" "),s("div",{staticClass:"weui-msg__opr-area"},[s("p",{staticClass:"weui-btn-area"},[s("a",{staticClass:"weui-btn weui-btn_primary",attrs:{href:"javascript:history.back();"}},[t._v("推荐操作")])])]),t._v(" "),s("div",{staticClass:"weui-msg__tips-area"},[s("p",{staticClass:"weui-msg__tips"},[t._v("提示详情，可根据实际需要安排，如果换行则不超过规定长度，居中展现"),s("a",{attrs:{href:"javascript:"}},[t._v("文字链接")])])]),t._v(" "),s("div",{staticClass:"weui-msg__extra-area"},[s("div",{staticClass:"weui-footer"},[s("p",{staticClass:"weui-footer__links"},[s("a",{staticClass:"weui-footer__link",attrs:{href:"javascript:"}},[t._v("底部链接文本")])]),t._v(" "),s("p",{staticClass:"weui-footer__text"},[t._v("Copyright © 2008-2016 weui.io")])])])])])}]};var m=s("VU/8")({name:"Result",data:function(){return{}}},C,!1,function(t){s("syCJ")},"data-v-17ac8c6b",null).exports;i.a.use(u.a);var f=new u.a({routes:[{path:"/",name:"HelloWorld",component:v},{path:"/main",name:"Main",component:p},{path:"/result",name:"Result",component:m}]}),b=s("mtWM"),w=s.n(b);s("TNmv"),s("a/Dg");i.a.config.productionTip=!1,i.a.prototype.$http=w.a,i.a.prototype.$errorHandler=function(t,e){t.isAxiosError?t.response&&t.response.data?400===t.response.status?e.$root.bus.$emit("toptips",{errorCode:t.response.data.returnCode,errorMsg:t.response.data.returnMsg}):(console.error(t.response.status,t.response.statusText),e.$root.bus.$emit("toptips",{errorCode:"API_ERROR",errorMsg:"后台接口异常"})):(console.error(t.config),e.$root.bus.$emit("toptips",{errorCode:"NETWORK_ERROR",errorMsg:"网络异常"})):(console.error(t.name,t.message),e.$root.bus.$emit("toptips",{errorCode:"SYSTEM_ERROR",errorMsg:"系统异常, 请刷新后重试"}))},new i.a({el:"#app",router:f,data:{bus:new i.a},components:{App:c},template:"<App/>"})},TNmv:function(t,e){},syCJ:function(t,e){},"vk+h":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.52cac0a4f3442dee7b53.js.map